import * as R from 'ramda'
import notebooks from './mockNotebooks'
import categories from './mockCategories'
import axios from 'axios'

export const fetchNotebooks = async () => {
    try {
        const { data } = await axios.get(
            'http://www.mocky.io/v2/5ac4e74a2f00005300f5fc7e', {
            params: {
                'mocky-delay': '500ms'
            }
        })
        return data.notebooks
    } catch (error) {
        console.error(error);
    }
}

export const loadMoreNotebooks = async ({offset}) => {
    return new Promise(resolve => {
        resolve(notebooks)
    })
}

export const fetchNotebookById = async id => {
    return new Promise((resolve, reject) => {
        //запрос к backend вставить
        // R.find находит в notebooks значение propEq('id') = id
        const notebook = R.find(R.propEq('id', id), notebooks);
        resolve(notebook)
    })
}

export const fetchCategories = async () => {
    return new Promise((resolve, reject) => {
        resolve(categories)
    })
}
